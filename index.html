<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Website Under Development</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Courier New', Courier, monospace;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    background: #1e1e1e;
    color: #ffffff;
}
.glass-container {
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.2);
    padding: 40px 30px;
    max-width: 500px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.5);
}
h1 {
    font-size: 2rem;
    color: #00f2fe;
    margin-bottom: 20px;
}
h2 {
    font-size: 1.3rem;
    color: #ffffff;
    margin: 20px 0 15px 0;
}
p {
    font-size: 1rem;
    margin-bottom: 20px;
    line-height: 1.5;
    color: #ccc;
}
.button {
    display: inline-block;
    padding: 12px 25px;
    margin: 8px;
    font-size: 0.95rem;
    font-weight: bold;
    color: #fff;
    text-decoration: none;
    border-radius: 10px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}
.button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 8px #667eea, 0 0 12px #764ba2;
}
.section {
    margin: 20px 0;
    padding: 20px 0;
    border-top: 1px solid rgba(255,255,255,0.2);
}
.section:first-of-type { border-top: none; }
.footer-text {
    margin-top: 25px;
    font-size: 1rem;
    font-weight: 700;
    color: #ffffff;
}
/* Login Page Styles */
.login-container {
    display: none;
}
.login-container.active {
    display: block;
}
.input-group {
    margin: 15px 0;
}
.input-group input {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.3);
    background: rgba(255,255,255,0.1);
    color: #fff;
    font-size: 0.95rem;
}
.input-group input::placeholder {
    color: rgba(255,255,255,0.5);
}
.input-group input:focus {
    outline: none;
    border-color: #00f2fe;
}
.google-btn {
    background: #fff;
    color: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    margin: 10px 0;
}
.google-btn:hover {
    background: #f0f0f0;
}
.divider {
    display: flex;
    align-items: center;
    margin: 20px 0;
    color: #ccc;
}
.divider::before,
.divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: rgba(255,255,255,0.3);
}
.divider span {
    padding: 0 10px;
}
.error-msg {
    color: #ff5555;
    font-size: 0.9rem;
    margin: 10px 0;
    display: none;
}
.error-msg.show {
    display: block;
}
.success-msg {
    color: #55ff55;
    font-size: 0.9rem;
    margin: 10px 0;
    display: none;
}
.success-msg.show {
    display: block;
}
.toggle-auth {
    color: #00f2fe;
    cursor: pointer;
    text-decoration: underline;
    font-size: 0.9rem;
    margin-top: 10px;
}
.user-info {
    display: none;
    padding: 20px;
}
.user-info.active {
    display: block;
}
.user-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin: 0 auto 15px;
    border: 2px solid #00f2fe;
}
@media (max-width: 600px){
    .glass-container { padding: 30px 20px; }
    h1 { font-size: 1.6rem; }
    h2 { font-size: 1.1rem; }
    p { font-size: 0.95rem; }
    .button { padding: 10px 20px; font-size: 0.9rem; }
}
.hidden { display: none; }
</style>
</head>
<body>
<div class="glass-container">
    <!-- Warning Page -->
    <div id="warningPage">
        <h1>‚ö†Ô∏è Website Under Development ‚ö†Ô∏è</h1>
        <p>
            Dear User,<br><br>
            Welcome! Aap jo website visit kar rahe hain, wo abhi actively development me hai. 
            Is website me kuch features incomplete ho sakte hain, bugs ya errors aa sakte hain, 
            aur kabhi kabhi website temporarily unavailable bhi ho sakti hai.<br><br>
            Hum aapko recommend karte hain ki koi bhi issue ya unexpected behavior ho too aap <strong>directly developer se contact kare</strong>:
        </p>
        <div class="section">
            <h2>Contact Developer</h2>
            <a href="mailto:indiangame744@gmail.com?subject=Website%20Issue" target="_blank" class="button">Email</a>
            <a href="https://www.instagram.com/direct/new/?username=aryan.singh.783" target="_blank" class="button">Instagram</a>
        </div>
        <div class="section">
            <h2>Continue to Website</h2>
            <button class="button" onclick="showLogin()">Login to Continue</button>
        </div>
        <p class="footer-text">‚Äî Developed & Maintained by Aryan Singh</p>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <h1>üîê Login</h1>
        <p>Please login to continue</p>
        
        <button class="button google-btn" onclick="signInWithGoogle()">
            <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
            </svg>
            Sign in with Google
        </button>

        <div class="divider"><span>‡§Ø‡§æ</span></div>

        <div id="emailLoginForm">
            <div class="input-group">
                <input type="email" id="loginEmail" placeholder="Email Address" required>
            </div>
            <div class="input-group">
                <input type="password" id="loginPassword" placeholder="Password" required>
            </div>
            <p class="error-msg" id="loginError"></p>
            <button class="button" onclick="signInWithEmail()" style="width: 100%;">Login</button>
            <p class="toggle-auth" onclick="toggleAuthMode()">Don't have an account? Sign Up</p>
        </div>

        <div id="emailSignupForm" class="hidden">
            <div class="input-group">
                <input type="email" id="signupEmail" placeholder="Email Address" required>
            </div>
            <div class="input-group">
                <input type="password" id="signupPassword" placeholder="Password (min 6 characters)" required>
            </div>
            <div class="input-group">
                <input type="password" id="signupConfirmPassword" placeholder="Confirm Password" required>
            </div>
            <p class="error-msg" id="signupError"></p>
            <p class="success-msg" id="signupSuccess"></p>
            <button class="button" onclick="signUpWithEmail()" style="width: 100%;">Sign Up</button>
            <p class="toggle-auth" onclick="toggleAuthMode()">Already have an account? Login</p>
        </div>

        <p style="font-size: 0.85rem; margin-top: 20px; color: #999;">
            <span class="toggle-auth" onclick="showWarning()">‚Üê Back to Warning</span>
        </p>
    </div>

    <!-- User Dashboard -->
    <div id="userDashboard" class="user-info">
        <h1>Welcome! üëã</h1>
        <img id="userAvatar" src="" alt="User Avatar" class="user-avatar" style="display: none;">
        <h2 id="userName">User</h2>
        <p id="userEmail" style="color: #00f2fe;"></p>
        
        <div class="section">
            <h2>Continue to Website</h2>
            <a href="python-pc.html?access=python783" class="button">Enter for Computer</a>
            <a href="python-mp.html?access=python876" class="button">Enter for Mobile Phone</a>
        </div>

        <button class="button" onclick="signOutUser()" style="background: linear-gradient(135deg, #f093fb, #f5576c); margin-top: 20px;">
            Logout
        </button>
        <p class="footer-text">‚Äî Developed & Maintained by Aryan Singh</p>
    </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-analytics.js";
import { getAuth, signInWithPopup, GoogleAuthProvider, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyDXiu76EYivyTDXmMGLuiT9hWh5J25ApJU",
    authDomain: "web-python-idle.firebaseapp.com",
    projectId: "web-python-idle",
    storageBucket: "web-python-idle.firebasestorage.app",
    messagingSenderId: "194648972875",
    appId: "1:194648972875:web:9eae9a765ba42c78e3f7ce",
    measurementId: "G-MMS9T8CXT3"
};

const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// Check auth state
onAuthStateChanged(auth, (user) => {
    if (user) {
        showDashboard(user);
    } else {
        document.getElementById('warningPage').style.display = 'block';
        document.getElementById('loginPage').classList.remove('active');
        document.getElementById('userDashboard').classList.remove('active');
    }
});

// Google Sign In
window.signInWithGoogle = async () => {
    try {
        const result = await signInWithPopup(auth, provider);
        showDashboard(result.user);
    } catch (error) {
        showError('loginError', error.message);
    }
};

// Email Sign Up
window.signUpWithEmail = async () => {
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirmPassword = document.getElementById('signupConfirmPassword').value;
    
    if (!email || !password || !confirmPassword) {
        showError('signupError', 'Please fill all fields');
        return;
    }
    
    if (password !== confirmPassword) {
        showError('signupError', 'Passwords do not match');
        return;
    }
    
    if (password.length < 6) {
        showError('signupError', 'Password must be at least 6 characters');
        return;
    }
    
    try {
        await createUserWithEmailAndPassword(auth, email, password);
        document.getElementById('signupSuccess').textContent = 'Account created successfully! Redirecting...';
        document.getElementById('signupSuccess').classList.add('show');
        setTimeout(() => {
            showDashboard(auth.currentUser);
        }, 1500);
    } catch (error) {
        let errorMsg = error.message;
        if (error.code === 'auth/email-already-in-use') {
            errorMsg = 'Email already registered. Please login.';
        }
        showError('signupError', errorMsg);
    }
};

// Email Sign In
window.signInWithEmail = async () => {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    if (!email || !password) {
        showError('loginError', 'Please fill all fields');
        return;
    }
    
    try {
        const result = await signInWithEmailAndPassword(auth, email, password);
        showDashboard(result.user);
    } catch (error) {
        let errorMsg = 'Invalid email or password';
        if (error.code === 'auth/user-not-found') {
            errorMsg = 'No account found with this email';
        }
        showError('loginError', errorMsg);
    }
};

// Sign Out
window.signOutUser = async () => {
    try {
        await signOut(auth);
        document.getElementById('warningPage').style.display = 'block';
        document.getElementById('userDashboard').classList.remove('active');
    } catch (error) {
        alert('Error signing out: ' + error.message);
    }
};

// UI Functions
window.showLogin = () => {
    document.getElementById('warningPage').style.display = 'none';
    document.getElementById('loginPage').classList.add('active');
};

window.showWarning = () => {
    document.getElementById('loginPage').classList.remove('active');
    document.getElementById('warningPage').style.display = 'block';
};

window.toggleAuthMode = () => {
    const loginForm = document.getElementById('emailLoginForm');
    const signupForm = document.getElementById('emailSignupForm');
    
    if (loginForm.classList.contains('hidden')) {
        loginForm.classList.remove('hidden');
        signupForm.classList.add('hidden');
    } else {
        loginForm.classList.add('hidden');
        signupForm.classList.remove('hidden');
    }
    
    // Clear errors
    document.querySelectorAll('.error-msg, .success-msg').forEach(el => {
        el.classList.remove('show');
        el.textContent = '';
    });
};

function showDashboard(user) {
    document.getElementById('warningPage').style.display = 'none';
    document.getElementById('loginPage').classList.remove('active');
    document.getElementById('userDashboard').classList.add('active');
    
    document.getElementById('userName').textContent = user.displayName || 'User';
    document.getElementById('userEmail').textContent = user.email;
    
    if (user.photoURL) {
        const avatar = document.getElementById('userAvatar');
        avatar.src = user.photoURL;
        avatar.style.display = 'block';
    }
}

function showError(elementId, message) {
    const errorEl = document.getElementById(elementId);
    errorEl.textContent = message;
    errorEl.classList.add('show');
    setTimeout(() => {
        errorEl.classList.remove('show');
    }, 5000);
}
</script>
</body>
</html>
